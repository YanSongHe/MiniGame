require=function t(e,i,s){function c(r,o){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!o&&a)return a(r,!0);if(n)return n(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return c(i||t)},l,l.exports,t,e,i,s)}return i[r].exports}for(var n="function"==typeof require&&require,r=0;r<s.length;r++)c(s[r]);return c}({AGAudio:[function(t,e,i){"use strict";cc._RF.push(e,"bca7bTIe/pFval1bu53XR9Z","AGAudio");var s=1,c=1,n=cc.Class({ctor:function(){this._isStop=!1,this.audio=null,this.musicId=null,this.effectId=null,cc.sys.__audioSupport&&cc.sys.__audioSupport.context&&(this._context=cc.sys.__audioSupport.context,"createBufferSource"in this._context&&(this.audio=this._context.createBufferSource())),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this)},onGameHide:function(){this._isStop=!0},onGameShow:function(){this._isStop=!1},playMusic:function(t,e){return this.stopMusic(),t=cc.url.raw("resources/"+t),this.musicId=cc.audioEngine.play(t,e,s),this.musicId},playEffect:function(t){if((!this.audio||this.audio.context.state&&"suspended"!==this.audio.context.state||0!==this._context.currentTime)&&(this.audio=null,!this._isStop))return t=cc.url.raw("resources/"+t),this.effectId=cc.audioEngine.play(t,!1,c),this.effectId},setMusicVolume:function(t){s=t,null!=this.musicId&&cc.audioEngine.setVolume(this.musicId,t)},getMusicVolum:function(){return s},setEffectsVolume:function(t){c=t,null!=this.effectId&&cc.audioEngine.setVolume(this.effectId,t)},getEffectsVolum:function(){return c},stopMusic:function(){null!=this.musicId&&cc.audioEngine.stop(this.musicId),this.musicId=null},reset:function(){this.stopMusic()}});e.exports=n,cc._RF.pop()},{}],EntryScene:[function(t,e,i){"use strict";cc._RF.push(e,"8fa87+IDK9BsoNH7W0+jkoK","EntryScene"),cc.Class({extends:cc.Component,properties:{progressBar:{default:null,type:cc.ProgressBar}},onLoad:function(){this.initUI(),this.startLoadRes()},initUI:function(){this.updateProgress(0)},startLoadRes:function(){t("resMgr").load(t("resLists"),this.onResLoadProgress.bind(this),this.onCompleted.bind(this),this.onTimeOut.bind(this))},onResLoadProgress:function(t){this.updateProgress(.9*t)},updateProgress:function(t){this.progressBar.progress=t},onCompleted:function(){this.updateProgress(1),this.startGame()},onTimeOut:function(){},startGame:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{resLists:"resLists",resMgr:"resMgr"}],KillBtnsHandler:[function(t,e,i){"use strict";cc._RF.push(e,"205efg7vTxPH4FOjqcPi35T","KillBtnsHandler");var s=t("StarPool"),c=t("gameConfig"),n={0:cc.color(199,107,246),1:cc.color(247,101,129),2:cc.color(235,203,42),3:cc.color(43,184,242),4:cc.color(49,203,92)};cc.Class({extends:cc.Component,properties:{imgSelectedTypeBG:cc.Node,imgBtnKillsBG:cc.Node,btnKillList:[cc.Node]},onLoad:function(){this.selectedType=0,this.nextNode=this.addNode(this.imgSelectedTypeBG,0,cc.p(0,0))},addNode:function(t,e,i){if(null!=e){var c=s.getStar();return t.addChild(c),c.setPosition(i),c.getComponent("star").initStar(e),c}},startGame:function(){this.imgSelectedTypeBG.active=!0,this.imgBtnKillsBG.active=!0,this.setSelectedType(this.selectedType)},setSelectedType:function(t){this.selectedType=t,this.nextNode.getComponent("star").initStar(this.selectedType),cc.each(this.btnKillList,function(e){e.color=n[t]},this)},onChangeType:function(){var t=this.selectedType+1;t=t>c.maxTypeNum?0:t,this.setSelectedType(t)},reset:function(){this.imgSelectedTypeBG.active=!1,this.imgBtnKillsBG.active=!1}}),cc._RF.pop()},{StarPool:"StarPool",gameConfig:"gameConfig"}],NodeTools:[function(t,e,i){"use strict";cc._RF.push(e,"ec43dOY6BxMBKMziETHsYZb","NodeTools");var s={getComponent:function(t,e){return t?t.getComponent(e):(console.error("getComponent is error: node is null"),null)},getNodeByName:function(t,e){var i=cc.find(t,e);return i||console.error("getNodeByName is error: nodeName "+t),i},getComponentByType:function(t,e,i){var s=this.getNodeByName(t,i);return this.getComponent(s,e)},getWidget:function(t,e){return this.getComponentByType(t,cc.Widget,e)},getButton:function(t,e){return this.getComponentByType(t,cc.Button,e)},getLabel:function(t,e){return this.getComponentByType(t,cc.Label,e)},getRichText:function(t,e){return this.getComponentByType(t,cc.RichText,e)},getSprite:function(t,e){return this.getComponentByType(t,cc.Sprite,e)},getEditBox:function(t,e){return this.getComponentByType(t,cc.EditBox,e)},addClickListener:function(t,e,i,s){var c=this.getNodeByName(t,s);c&&c.on("click",e,i)},removeClickListener:function(t,e,i,s){var c=this.getNodeByName(t,s);c&&c.off("click",e,i)},addNodeClickListener:function(t,e,i){t&&t.on("click",e,i)},removeNodeClickListener:function(t,e,i){t&&t.off("click",e,i)},setButtonTitle:function(t,e){cc.js.isString(t)&&null==(t=this.getNodeByName(t))?console.log("#############setButtonTitle:no button:"+t):this.getLabel("Label",t).string=e},traversalNode:function(t,e){e(t);for(var i=0;i<t.children.length;++i)this.traversalNode(t.children[i],e)}};e.exports=s,cc._RF.pop()},{}],StarHandler:[function(t,e,i){"use strict";cc._RF.push(e,"7c0770pJA9F05YVJ/u7J/uH","StarHandler");var s=t("StarPool"),c=t("gameConfig");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.firstX=(this.node.width-c.rowNum*c.stepNum)/2},setKillCallback:function(t){this.killCB=t},setSupplementCallback:function(t){this.supplementCB=t},startGame:function(){this.reset();var t=cc.sys.localStorage.getItem(c.account+"GAME_STAR_DATA");null!=t?this.typeList=utils.getTDArrayFromString(t,",",";"):(this.typeList=this.createTypeList(),t=utils.getStringFromTDArray(this.typeList,",",";"),cc.sys.localStorage.setItem(c.account+"GAME_STAR_DATA",t)),this.updateLayer()},createTypeList:function(){for(var t=[],e=0;e<c.columnNum;e++){for(var i=[],s=0;s<c.rowNum;s++)i.push(utils.randomInt(0,c.maxTypeNum));t.push(i)}return t},updateLayer:function(){for(var t=this.firstX+c.stepNum/2-this.node.width/2,e=c.stepNum/2-this.node.height/2,i=0;i<c.columnNum;i++){for(var s=t,n=[],r=0;r<c.rowNum;r++)n.push(this.addStar(this.typeList[i][r],cc.p(s,e))),s+=c.stepNum;e+=c.stepNum,this.starList.push(n)}},addStar:function(t,e){if(null!=t){var i=s.getStar();return this.node.addChild(i),i.setPosition(e),i.getComponent("star").initStar(t),i}},onBtnKill:function(t,e){for(var i=!1,s=0;s<c.rowNum;s++){var n=this.starList[t][s];if(null!=n)n.getComponent("star").type==e&&(i=!0,this.touchStars(t,s))}return i},touchStars:function(t,e){var i=this.starList[t][e],s=i.getComponent("star");this.selectStar(s.type,i,t,e),setTimeout(this.killStars.bind(this),200)},selectStar:function(t,e,i,s){if(null!=e){var c=e.getComponent("star");t!=c.type||c.isSelected||(c.onSelect(!0),this.selectedStarList.push(e),this.selectedPosList.push(cc.p(i,s)),this.selectSameTypeStars(t,i,s))}},selectSameTypeStars:function(t,e,i){var s=null;e-1>=0&&(s=this.starList[e-1][i],this.selectStar(t,s,e-1,i)),e+1<c.columnNum&&(s=this.starList[e+1][i],this.selectStar(t,s,e+1,i)),i-1>=0&&(s=this.starList[e][i-1],this.selectStar(t,s,e,i-1)),i+1<c.rowNum&&(s=this.starList[e][i+1],this.selectStar(t,s,e,i+1))},killStars:function(){var t=this.selectedStarList.length;if(0!=t){var e=c.algorithm.getKillScore(t);this.killCB(t,e),cc.each(this.selectedStarList,function(t){t.getComponent("star").onKill()},this),this.selectedStarList=[],cc.each(this.selectedPosList,function(t){this.typeList[t.x][t.y]=null,this.starList[t.x][t.y]=null},this),this.selectedPosList=[],this.checkColumn()}},checkColumn:function(){for(var t=!1,e=0;e<c.rowNum;e++)for(var i=0,s=0;s<c.columnNum;s++){var n=this.typeList[s][e],r=this.starList[s][e];null==r?i++:0!=i&&(t=!0,r.runAction(cc.moveBy(.1,0,-i*c.stepNum)),this.typeList[s-i][e]=n,this.typeList[s][e]=null,this.starList[s-i][e]=r,this.starList[s][e]=null)}t?setTimeout(this.supplementStar.bind(this),200):this.supplementStar()},supplementStar:function(){for(var t=this.firstX+c.stepNum/2-this.node.width/2,e=c.stepNum/2-this.node.height/2,i=0;i<c.rowNum;i++)for(var s=0;s<c.columnNum;s++){var n=0;if(null==this.starList[s][i]){n++;var r=t+c.stepNum*i,o=e+c.stepNum*s,a=cc.p(r,this.node.height+c.stepNum*n),u=cc.p(r,o),l=utils.randomInt(0,c.maxTypeNum),h=this.addStar(l,a);h.runAction(cc.moveTo(.2,u)),this.typeList[s][i]=l,this.starList[s][i]=h}}setTimeout(this.supplementCB.bind(this),200);var p=utils.getStringFromTDArray(this.typeList,",",";");cc.sys.localStorage.setItem(c.account+"GAME_STAR_DATA",p)},reset:function(){cc.each(this.starList,function(t){t&&cc.each(t,function(t){t&&t.getComponent("star").removeStar()},this)},this),this.typeList=[],this.starList=[],this.selectedStarList=[],this.selectedPosList=[]}}),cc._RF.pop()},{StarPool:"StarPool",gameConfig:"gameConfig"}],StarPool:[function(t,e,i){"use strict";cc._RF.push(e,"79d31L53c1M3IC86bhGCRIb","StarPool");var s=t("UiTools"),c=t("res"),n=new(cc.Class({init:function(){this.pool=new cc.NodePool},getStar:function(){return this.pool.size()>0?this.pool.get():s.createPrefab(c.star_Pre)},putStar:function(t){this.pool.put(t)}}));n.init(),e.exports=n,cc._RF.pop()},{UiTools:"UiTools",res:"res"}],TipStrip:[function(t,e,i){"use strict";cc._RF.push(e,"faddccv50BL362NSUK8N7R4","TipStrip"),cc.Class({extends:cc.Component,properties:{imgBG:cc.Node,tfTips:cc.Label},onLoad:function(){},showTips:function(t,e,i){this.imgBG.active=!0,this.tfTips.string=t;var s=this.node.width+this.imgBG.width;this.imgBG.x=-s,this.imgBG.y=e.y;var c=[];c.push(cc.moveTo(.5,e.x,e.y)),c.push(cc.delayTime(1.5)),c.push(cc.moveBy(.5,s,0)),c.push(cc.callFunc(this.hideTips.bind(this,i))),this.imgBG.stopAllActions(),this.imgBG.runAction(cc.sequence(c))},hideTips:function(t){this.imgBG.stopAllActions(),this.imgBG.active=!1,null!=t&&t()}}),cc._RF.pop()},{}],UiTools:[function(t,e,i){"use strict";cc._RF.push(e,"8076bwcSHdCRYy8veC7Bq7x","UiTools");var s={getSpriteFrame:function(t,e){if(null==e){var i=new cc.SpriteFrame;return i.setTexture(cc.loader.getRes(t)),i}return cc.loader.getRes(e,cc.SpriteAtlas).getSpriteFrame(t)},createSpriteNode:function(t,e){var i=new cc.Node;return i.addComponent(cc.Sprite).spriteFrame=this.getSpriteFrame(t,e),i},setSpriteFrame:function(t,e,i){var s=t.getComponent(cc.Sprite),c=this.getSpriteFrame(e,i);null!=c?s.spriteFrame=c:console.log('setSpriteFrame:"{0}"--"{1}" no exist!'.format(i,e))},createPrefab:function(t){return cc.instantiate(cc.loader.getRes(t,cc.Prefab))},scaleClickRegion:function(t,e,i){var s=t.node;t.interactable=!1;var c=cc.instantiate(s);c.setPosition(0,0),c.scale=i||.8,c.opacity=1,c.parent=s;var n=t.zoomScale,r=t.duration;s.trigger=c;var o=function(){s.scaleState=0};c.on(cc.Node.EventType.TOUCH_START,function(){1!=s.scaleState&&s.scale<n&&(s.stopAllActions(),s.scaleState=1,s.runAction(cc.sequence(cc.scaleTo(r,n),cc.callFunc(o))))}),c.on(cc.Node.EventType.TOUCH_END,function(){-1!=s.scaleState&&s.scale>1&&(s.stopAllActions(),s.scaleState=-1,s.runAction(cc.sequence(cc.scaleTo(r,1),cc.callFunc(o)))),null!=e&&e()}),c.on(cc.Node.EventType.TOUCH_CANCEL,function(){-1!=s.scaleState&&s.scale>1&&(s.stopAllActions(),s.scaleState=-1,s.runAction(cc.sequence(cc.scaleTo(r,1),cc.callFunc(o))))})},createFrameAnimationNode:function(t){var e=null;t.pattern?e=this.getSpriteFrames(t.atlas,t.pattern,t.idxStart,t.idxEnd):e=cc.loader.getRes(t.atlas,cc.SpriteAtlas).getSpriteFrames();null!=t.idxFrameStart&&t.idxFrameStart>=0&&t.idxFrameStart<e.length&&(e=e.slice(t.idxFrameStart).concat(e.slice(0,t.idxFrameStart)));var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=e[0];var s=i.addComponent(cc.Animation),c=cc.AnimationClip.createWithSpriteFrames(e,t.fps);if(c.name=t.clipName||"anim",s.addClip(c),t.loop)c.wrapMode=cc.WrapMode.Loop,s.play(c.name);else if(t.once){s.play(c.name);s.on("finished",function t(){i.parent=null,s.off("finished",t)})}return i},addOutline:function(t,e,i){if(t instanceof cc.Label&&(t=t.node),null!=t.getComponent(cc.Label)){var s=t.addComponent(cc.LabelOutline);s.color=e,s.width=i}else console.error("utils.ui.addOutline:is not label component")}};e.exports=s,cc._RF.pop()},{}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"408c5OtL7VJrbqLj3AmA2pQ","Utils"),window.utils={exitGame:function(t){cc.sys.isNative?cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","exitGame"):jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","exitGame","()V"):null!=t&&cc.js.isString(t)?location.replace(t):location.reload()},formatD:function(t,e){for(var i=e.toString(),s=i.length;t>s;)i="0"+i,t--;return i},getUrlParams:function(){if(!cc.sys.isBrowser)return{};if(null==this.urlParams){this.urlParams={};var t=window.location.href.split("?");if(t.length>1){t=t[1].split("&");for(var e=0;e<t.length;++e){var i=t[e].split("=");this.urlParams[i[0]]=i[1]}}}return this.urlParams},randomInt:function(t,e){return Math.floor(t+Math.random()*(e-t+1))},random:function(t,e){return t+Math.random()*(e-t)},getStringFromTDArray:function(t,e,i){var s="";return cc.each(t,function(c,n){cc.each(c,function(t,i){s+=null==t?"":t.toString(),i<c.length-1&&(s+=e)},this),n<t.length-1&&(s+=i)},this),s},getTDArrayFromString:function(t,e,i){for(var s=[],c=t.split(i),n=0;n<c.length;n++){for(var r=[],o=c[n].split(e),a=0;a<o.length;a++){var u=o[a];r.push(""==u?null:parseInt(u))}s.push(r)}return s},splitNumber:function(t){var e=t.toString(),i=e.charAt(0);"-"==i||"+"==i?e=e.substr(1):i="";var s=e.split(".");if(s.length>1)return s[0]=utils.splitNumber(s[0]),i+s.join(".");for(s=[];e.length>3;)s.unshift(e.substr(e.length-3)),e=e.substr(0,e.length-3);return s.unshift(e),e=i+(e=s.join(","))},stringRepeat:function(t,e){for(var i=t;e>1;)--e,i+=t;return i},getDataFromExtend:function(t,e,i,s){var c=null,n=t.split(i);return cc.each(n,function(t){var i=t.split(s);i[0]==e&&(c=i[1])},this),c},getQueryFromObj:function(t){if(null==t)return null;var e=[];return cc.each(t,function(t,i){null!=t&&e.push("{0}={1}".format(i,t))}),e.join("&")}},String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)},String.prototype.format=function(t){var e=this;if(arguments.length<1)return e;var i=arguments;for(var s in i){var c=i[s];null!=c&&(e=e.replaceAll("\\{"+s+"\\}",c))}return e},Array.prototype.removeElement=function(t){var e=this.indexOf(t);if(-1!=e)return this.splice(e,1)},cc.each=function(t,e,i){if(t)if(t instanceof Array){for(var s=0,c=t.length;s<c;s++)if(!1===e.call(i,t[s],s))return}else for(var n in t)if(!1===e.call(i,t[n],n))return},cc._RF.pop()},{}],algorithm:[function(t,e,i){"use strict";cc._RF.push(e,"0c18dvUrLhCeoBGuuyUzrmc","algorithm");var s=cc.Class({getAimScoreIncrement:function(t){var e=1500;return t>1&&(e=2e3+20*(t-2)),e},getKillScore:function(t){for(var e=0,i=0;i<t;i++)e+=5*(i+1);return e}});e.exports=s,cc._RF.pop()},{}],chn:[function(t,e,i){"use strict";cc._RF.push(e,"f8f1bIyHQJPqZ9Uf/Kiwkih","chn"),e.exports={AimScore_txt:"目标分数:",RoundNum_txt:"第 {0} 关",AddScore_txt:"消除{0}个星星：{1}分",TouchNum_txt:"还剩{0}次点击",MsxScore_txt:"最高分数:",StarGame_Tips:"第 {0} 关\n\n目标分数:{1}",AchieveAimScore_Tips:"目标达成！",RoundOver_Tips:"本关结束，\n进入下一关。",defaultFont:"Microsoft YaHei",extend:{}},cc._RF.pop()},{}],gameConfig:[function(t,e,i){"use strict";cc._RF.push(e,"7fb75SnT7pAsbzExYsi6KpF","gameConfig");e.exports={account:"HYS",firstAimScore:1e3,rowNum:7,columnNum:10,stepNum:96,maxTypeNum:4,touchNum:10},cc._RF.pop()},{}],game:[function(t,e,i){"use strict";cc._RF.push(e,"2635bJpPplERIfo5TZhIBU6","game");var s=t("i18n"),c=t("algorithm"),n=t("gameConfig"),r=t("TipStrip"),o=t("StarHandler"),a=t("KillBtnsHandler");cc.Class({extends:cc.Component,properties:{tipStrip:{default:null,type:r},starHandler:{default:null,type:o},killBtnsHandler:{default:null,type:a},tfAimScore:cc.Label,tfRoundNum:cc.Label,tfScore:cc.Label,tfAddScore:cc.Label,tfTouchNum:cc.Label,tfMaxScore:cc.Label,tipsGameStar:cc.Node,tipsGameOver:cc.Node},onLoad:function(){this.isAchieve=!1,this.tipStripPos=cc.p(0,100),this.reset(),this.algorithm=new c,n.algorithm=this.algorithm,this.starHandler.setKillCallback(this.updateAddScore.bind(this)),this.starHandler.setSupplementCallback(this.continueMove.bind(this)),this.showStartView(),this.setExitGameListener()},showStartView:function(){var t=cc.sys.localStorage.getItem(n.account+"GAME_TOUCH_NUM");null!=t&&0!=parseInt(t)?this.tipsGameStar.active=!0:setTimeout(this.newGame.bind(this),100)},newGame:function(){this.tipsGameStar.active=!1,cc.sys.localStorage.removeItem(n.account+"GAME_STAR_DATA"),this.startGame(n.firstAimScore,1)},continueGame:function(){this.tipsGameStar.active=!1;var t=parseInt(cc.sys.localStorage.getItem(n.account+"GAME_ROUND")),e=parseInt(cc.sys.localStorage.getItem(n.account+"GAME_AIM_SCORE")),i=parseInt(cc.sys.localStorage.getItem(n.account+"GAME_TOUCH_NUM"));this.startGame(e,t,i);var s=cc.sys.localStorage.getItem(n.account+"GAME_SCORE");null!=s&&(this.scoreNum=parseInt(s),this.tfScore.string=parseInt(s))},startGame:function(t,e,i){var c=cc.sys.localStorage.getItem(n.account+"GAME_MAX_SCORE");this.tfMaxScore.string=null==c?"":s.getTxt("MsxScore_txt")+c,this.updateAimScore(t),this.updateRoundNum(e),this.updateTouchNum(i||n.touchNum+e-1);var r=s.getTxt("StarGame_Tips").format(e,t);this.tipStrip.showTips(r,this.tipStripPos,this.readyTouch.bind(this))},readyTouch:function(){this.starHandler.startGame(),this.killBtnsHandler.startGame(),setTimeout(this.readyOver.bind(this),500)},readyOver:function(){this.canKill=!0},startRound:function(){this.roundReset();var t=this.aimScoreNum+this.algorithm.getAimScoreIncrement(this.roundNum);this.startGame(t,this.roundNum+1)},restart:function(){cc.sys.localStorage.removeItem(n.account+"GAME_ROUND"),cc.sys.localStorage.removeItem(n.account+"GAME_SCORE"),cc.sys.localStorage.removeItem(n.account+"GAME_AIM_SCORE"),cc.sys.localStorage.removeItem(n.account+"GAME_TOUCH_NUM"),cc.sys.localStorage.removeItem(n.account+"GAME_STAR_DATA"),this.reset(),this.startGame(n.firstAimScore,1)},reset:function(){this.isAchieve=!1,this.canKill=!1,this.aimScoreNum=0,this.tfAimScore.string="",this.roundNum=0,this.tfRoundNum.string="",this.scoreNum=0,this.tfScore.string="",this.touchNum=0,this.tfTouchNum.string="",this.tfAddScore.string="",this.tfMaxScore.string="",this.tipsGameStar.active=!1,this.tipsGameOver.active=!1,this.tipStrip.hideTips(),this.starHandler.reset(),this.killBtnsHandler.reset()},roundReset:function(){this.isAchieve=!1,this.tfAddScore.string="",this.touchNum=0,this.tfTouchNum.string="",this.tipStrip.hideTips(),this.starHandler.reset(),this.killBtnsHandler.reset(),cc.sys.localStorage.removeItem(n.account+"GAME_STAR_DATA")},updateAimScore:function(t){this.aimScoreNum=t,this.tfAimScore.string=s.getTxt("AimScore_txt")+t,cc.sys.localStorage.setItem(n.account+"GAME_AIM_SCORE",t)},updateRoundNum:function(t){this.roundNum=t,this.tfRoundNum.string=s.getTxt("RoundNum_txt").format(t),cc.sys.localStorage.setItem(n.account+"GAME_ROUND",t)},updateScore:function(t){if(this.scoreNum=t,this.tfScore.string=t,this.scoreNum>=this.aimScoreNum&&!this.isAchieve){this.isAchieve=!0;var e=s.getTxt("AchieveAimScore_Tips");this.tipStrip.showTips(e,this.tipStripPos,null)}cc.sys.localStorage.setItem(n.account+"GAME_SCORE",t)},updateAddScore:function(t,e){this.tfAddScore.string=s.getTxt("AddScore_txt").format(t,e),this.updateScore(this.scoreNum+e)},updateTouchNum:function(t){this.touchNum=t,this.tfTouchNum.string=s.getTxt("TouchNum_txt").format(t),cc.sys.localStorage.setItem(n.account+"GAME_TOUCH_NUM",this.touchNum)},onBtnKill:function(t,e){if(this.canKill){var i=parseInt(e),s=this.killBtnsHandler.selectedType;this.starHandler.onBtnKill(i,s)&&(this.canKill=!1,this.updateTouchNum(this.touchNum-1))}},continueMove:function(){0!=this.touchNum?this.canKill=!0:this.roundOver()},roundOver:function(){if(this.canKill=!1,this.scoreNum>=this.aimScoreNum){var t=s.getTxt("RoundOver_Tips");this.tipStrip.showTips(t,this.tipStripPos,this.startRound.bind(this))}else{var e=cc.sys.localStorage.getItem(n.account+"GAME_MAX_SCORE");(null==e||this.scoreNum>parseInt(e))&&cc.sys.localStorage.setItem(n.account+"GAME_MAX_SCORE",this.scoreNum),this.gameOver()}},gameOver:function(){this.tipsGameOver.active=!0,cc.sys.localStorage.removeItem(n.account+"GAME_ROUND"),cc.sys.localStorage.removeItem(n.account+"GAME_SCORE"),cc.sys.localStorage.removeItem(n.account+"GAME_AIM_SCORE"),cc.sys.localStorage.removeItem(n.account+"GAME_TOUCH_NUM"),cc.sys.localStorage.removeItem(n.account+"GAME_STAR_DATA")},setExitGameListener:function(){cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,e){},onKeyReleased:function(t,e){switch(t){case cc.KEY.home:case cc.KEY.back:utils.exitGame()}}},this.node)}}),cc._RF.pop()},{KillBtnsHandler:"KillBtnsHandler",StarHandler:"StarHandler",TipStrip:"TipStrip",algorithm:"algorithm",gameConfig:"gameConfig",i18n:"i18n"}],i18n:[function(t,e,i){"use strict";cc._RF.push(e,"b0c10J+l0lHlY5tzqTrXACG","i18n");var s=new(cc.Class({setLang:function(e){var i="chn";null!=e&&(i=e=e.toLowerCase()),this.lang=t(i)},setLangExtend:function(e){this.lang.extend=t(e)},getTxt:function(t){return this.lang.hasOwnProperty(t)?this.lang[t]:this.lang.extend&&this.lang.extend.hasOwnProperty(t)?this.lang.extend[t]:""},getDefaultFont:function(){return this.lang.hasOwnProperty("defaultFont")?this.lang.defaultFont:"Microsoft YaHei"}}));s.setLang(),e.exports=s,cc._RF.pop()},{}],resLists:[function(t,e,i){"use strict";cc._RF.push(e,"fc396wIBHdGH7FAEW2tSE7o","resLists");var s=t("res"),c=[[s.entrySceneBG_jpg,s.gameBG_jpg],[s.ui_atlas,s.star_atlas],[s.tipStrip_Pre,s.star_Pre],[],[],[],[],[]];e.exports=c,cc._RF.pop()},{res:"res"}],resMgr:[function(t,e,i){"use strict";cc._RF.push(e,"386ecryOeBPFZQ7YDSOLZtB","resMgr");var s=[cc.SpriteFrame,cc.SpriteAtlas,cc.Prefab,cc.LabelAtlas,cc.TextAsset,cc.AudioClip,cc.AnimationClip,cc.Font],c=new(cc.Class({load:function(t,e,i,s){var c=setTimeout(function(){s&&s()},12e4),n=this._addRes(t),r=0,o=n.length;n.forEach(function(t){var s=t[0],n=t[1];cc.loader.loadRes(s,n,function(t,n){null!=t&&console.log("load asset error:"+s+"msg:"+t),++r,e&&e(r/o),r===o&&(i&&i(),clearTimeout(c))}.bind(this))}.bind(this))},_addRes:function(t){var e=[];return t.forEach(function(t,i){var c=s[i];t.forEach(function(t){e.push([t,c])})}),e}}));e.exports=c,cc._RF.pop()},{}],res:[function(t,e,i){"use strict";cc._RF.push(e,"1c118iWo+5JqbM1yogLmYY8","res");e.exports={entrySceneBG_jpg:"imgs/entryScene_bg",gameBG_jpg:"imgs/game_bg",tipStrip_Pre:"prefabs/TipStrip",star_Pre:"prefabs/star",ui_atlas:"atlas/ui",star_atlas:"atlas/star"},cc._RF.pop()},{}],star:[function(t,e,i){"use strict";cc._RF.push(e,"d60b5DYN8BFfJXQ/Qxhqa0Z","star");var s=t("res"),c=t("UiTools"),n=t("StarPool");cc.Class({extends:cc.Component,properties:{imgStar:cc.Sprite},onLoad:function(){this.isSelected=!1},initStar:function(t){this.isSelected=!1,this.type=t,this.setStarSpriteFrame(t,!1)},setStarSpriteFrame:function(t,e){var i=e?"star_select_":"star_";i+=t,this.imgStar.spriteFrame=c.getSpriteFrame(i,s.star_atlas)},onSelect:function(t){this.setStarSpriteFrame(this.type,t),this.isSelected=t},onKill:function(){this.removeStar()},removeStar:function(){this.node.removeFromParent(),n.putStar(this.node)}}),cc._RF.pop()},{StarPool:"StarPool",UiTools:"UiTools",res:"res"}]},{},["EntryScene","TipStrip","chn","i18n","res","resLists","resMgr","KillBtnsHandler","algorithm","game","gameConfig","StarHandler","StarPool","star","AGAudio","NodeTools","UiTools","Utils"]);